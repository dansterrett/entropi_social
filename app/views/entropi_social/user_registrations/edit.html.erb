<h2>Edit <%= resource_name.to_s.humanize %></h2>

<%= form_for(resource, :as => resource_name, :url => registration_path(resource_name), :html => { :method => :put }) do |f| %>
  <%= devise_error_messages! %>

  <div class="clearfix <%= field_error(@user, :username) %>">
    <%= f.label :username %>
    <div class="input">
      <%= f.text_field :username, :class => "xlarge", :autofocus => true %>
    </div>
  </div>
  <div class="clearfix <%= field_error(@user, :email) %>">
    <%= f.label :email %>
    <div class="input">
      <%= f.text_field :email, :class => "xlarge" %>
    </div>
  </div>
  <div class="clearfix <%= field_error(@user, :first_name) %>">
    <%= f.label :first_name %>
    <div class="input">
      <%= f.text_field :first_name, :class => "xlarge" %>
    </div>
  </div>
  <div class="clearfix <%= field_error(@user, :last_name) %>">
    <%= f.label :last_name %>
    <div class="input">
      <%= f.text_field :last_name, :class => "xlarge" %>
    </div>
  </div>
  <div class="clearfix <%= field_error(@user, :birth_date) %>">
    <%= f.label :birth_date %>
    <div class="input">
      <%= f.date_select :birth_date, {:order => [:month, :day, :year], :start_year => 1940 }, {:class => "span2"} %>
    </div>
  </div>
  <div class="clearfix <%= field_error(@user, :password) %>">
    <%= f.label :password %>
    <div class="input">
      <%= f.password_field :password, :class => "xlarge" %>
    </div>
  </div>
  <div class="clearfix <%= field_error(@user, :password_confirmation) %>">
    <%= f.label :password_confirmation %>
    <div class="input">
      <%= f.password_field :password_confirmation, :class => "xlarge" %>
    </div>
  </div>
</div>
<div class="modal-footer">
  <%= f.submit @user.new_record? ? "Register User" : "Update Account", :class => "btn primary" %>
</div>
<% end %>

<h3>Cancel my account</h3>

<p>Unhappy? <%= link_to "Cancel my account", registration_path(resource_name), :confirm => "Are you sure?", :method => :delete %>.</p>

<%= link_to "Back", :back %>
